{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/sunilkayiti/email_agent/frontend/src/app/login/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { initiateGoogleLogin } from '@/lib/auth';\n\nexport default function LoginPage() {\n  const [showAuthError, setShowAuthError] = useState(false);\n  const [autoRedirect, setAutoRedirect] = useState(false);\n\n  useEffect(() => {\n    // Check if we were redirected here due to an auth error\n    const urlParams = new URLSearchParams(window.location.search);\n    const authError = urlParams.get('auth_error');\n    \n    if (authError) {\n      console.log('Authentication error detected:', authError);\n      setShowAuthError(true);\n      \n      // Set a timer to automatically redirect after 5 seconds\n      const timer = setTimeout(() => {\n        setAutoRedirect(true);\n        initiateGoogleLogin();\n      }, 5000);\n      \n      return () => clearTimeout(timer);\n    }\n  }, []);\n\n  const handleLogin = () => {\n    initiateGoogleLogin();\n  };\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-gray-100\">\n      {showAuthError && (\n        <div className=\"fixed top-0 left-0 right-0 bg-red-500 text-white p-4 text-center shadow-md\">\n          <p className=\"text-lg font-semibold\">Your session has expired</p>\n          <p>Please sign in again to continue using Email Agent {autoRedirect && '(Redirecting...)'}</p>\n        </div>\n      )}\n      \n      <div className=\"bg-white p-8 rounded-lg shadow-md w-[400px] mt-12\">\n        <h1 className=\"text-2xl font-bold mb-2\">Email Agent</h1>\n        \n        {showAuthError && (\n          <div className=\"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4\">\n            <p className=\"text-yellow-700 font-medium\">Authentication Required</p>\n            <p className=\"text-sm text-yellow-600\">\n              Your session has expired or you need to log in. {autoRedirect ? 'Redirecting to Google login...' : 'Please click the button below to sign in.'}\n            </p>\n          </div>\n        )}\n        \n        <p className=\"text-gray-600 mb-6\">\n          Sign in with your Google account to access your emails\n        </p>\n        <p className=\"text-sm text-gray-500 mb-4\">\n          This application requires access to your Gmail account to manage emails and labels.\n        </p>\n        <button \n          onClick={handleLogin} \n          className={`w-full ${showAuthError \n            ? 'bg-blue-600 hover:bg-blue-700 animate-pulse text-white font-bold py-3 px-4 rounded-md shadow-lg' \n            : 'bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded'}`}\n        >\n          Sign in with Google\n        </button>\n      </div>\n    </div>\n  );\n} "],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnD,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEjD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,wDAAwD;QACxD,MAAM,YAAY,IAAI,gBAAgB,OAAO,QAAQ,CAAC,MAAM;QAC5D,MAAM,YAAY,UAAU,GAAG,CAAC;QAEhC,IAAI,WAAW;YACb,QAAQ,GAAG,CAAC,kCAAkC;YAC9C,iBAAiB;YAEjB,wDAAwD;YACxD,MAAM,QAAQ,WAAW;gBACvB,gBAAgB;gBAChB,CAAA,GAAA,kHAAA,CAAA,sBAAmB,AAAD;YACpB,GAAG;YAEH,OAAO,IAAM,aAAa;QAC5B;IACF,GAAG,EAAE;IAEL,MAAM,cAAc;QAClB,CAAA,GAAA,kHAAA,CAAA,sBAAmB,AAAD;IACpB;IAEA,qBACE,8OAAC;QAAI,WAAU;;YACZ,+BACC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAE,WAAU;kCAAwB;;;;;;kCACrC,8OAAC;;4BAAE;4BAAoD,gBAAgB;;;;;;;;;;;;;0BAI3E,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAA0B;;;;;;oBAEvC,+BACC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CAA8B;;;;;;0CAC3C,8OAAC;gCAAE,WAAU;;oCAA0B;oCACY,eAAe,mCAAmC;;;;;;;;;;;;;kCAKzG,8OAAC;wBAAE,WAAU;kCAAqB;;;;;;kCAGlC,8OAAC;wBAAE,WAAU;kCAA6B;;;;;;kCAG1C,8OAAC;wBACC,SAAS;wBACT,WAAW,CAAC,OAAO,EAAE,gBACjB,oGACA,wEAAwE;kCAC7E;;;;;;;;;;;;;;;;;;AAMT"}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}